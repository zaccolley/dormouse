function iconSwap(){var a=document.querySelectorAll(".icon-swap"),b={Search:"search",Grid:"th-large",List:"th-list",Checkout:"shopping-cart"};for(var c in a){var d=a[c];if(d.hasOwnProperty("innerHTML")){var e=b[d.innerHTML];d.innerHTML='<i class="fa fa-'+e+'"></i>',d.classList.remove("icon-swap")}}}function basketInit(){var a=document.querySelector(".checkout");a.addEventListener("click",basketToggle,!1);var b=document.querySelector(".basket");b.style.height="0"}function basketToggle(){var a=document.querySelector(".checkout"),b=document.querySelector(".basket");"0px"===b.style.height?(b.style.height="100px",a.className="checkout checkout-alt"):(a.className="checkout",b.style.height="0")}function displayOptionInit(){var a=document.querySelectorAll(".display-option");a[0].style.display="none";for(var b in a){var c=a[b];c.hasOwnProperty("innerHTML")&&c.addEventListener("click",displayOptionToggle,!1)}}function displayOptionToggle(){var a=document.querySelectorAll(".display-option"),b=document.querySelectorAll(".items li"),c="grid";for(var d in a){var e=a[d];e.hasOwnProperty("innerHTML")&&(""===e.style.display?(e.style.display="none",c="list"):(c="grid",e.style.display=""))}for(var f in b){var g=b[f];g.hasOwnProperty("innerHTML")&&(g.className="item-"+c)}}var ajax=function(a,b){var c,d={request:"GET",url:null,async:"true",dataType:"json",data:null,debug:!1};for(var e in a){var f=a[e];switch(e){case"request":d.request=f;break;case"url":d.url=f;break;case"async":d.async=f;break;case"dataType":d.dataType=f;break;case"data":d.data=f;break;default:d.debug&&console.log("Invalid option supplied")}}if(!d.url)return d.debug&&console.log("ajax() requires a URL"),!1;if(window.XMLHttpRequest?c=new XMLHttpRequest:window.ActiveXObject&&(c=new ActiveXObject("Msxml2.XMLHTTP")),!c)return d.debug&&console.log("XMLHttpRequest could not be created. :Â¬("),!1;d.debug&&console.log("XMLHttpRequest created"),c.open(d.request,d.url,d.async),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.responseType=d.dataType,c.send(d.data);c.onreadystatechange=function(){var a=["Uninitialised","Loading","Loaded","Interactive","Complete"];d.debug&&console.log("State:",a[c.readyState],c.readyState),4==c.readyState&&(d.debug&&console.log("Status:",c.status,"("+c.statusText+")",'at "'+d.url+'"'),200==c.status&&(d.debug&&console.log("Success"),b(c.response)))}};!function(){iconSwap(),displayOptionInit(),basketInit();var a=document.querySelector(".logo a");ajax({url:"data/config.php"},function(b){a.innerHTML=b.name,document.title=b.title+" "+b.desc});var b=document.querySelector(".categories");ajax({url:"data/categories.json"},function(a){a.categories.forEach(function(a){b.innerHTML+="<li><a href='#"+a.toLowerCase()+"'>"+a+"</a></li>"})});var c=document.querySelector(".items");ajax({url:"data/items.json"},function(a){for(var b in a.items){var d=a.items[b];c.innerHTML+="<li class='item-grid'><section style='background-image: url("+d.image+");'><div class='details'><h1 class='details-title'><a href='#"+d.title+"'' title='More details on "+d.title+"?''>"+d.title+"</a></h1><p class='details-desc'>"+d.desc+"</p><p class='details-price'><a href='#"+d.title+"'' title='More details on "+d.title+"?''>"+d.price+"</a></p></div></section></li>"}})}();